#!/bin/bash

# Create data directory if it doesn't exist
mkdir -p data

# Download the MSOA boundaries as GeoJSON
curl "https://services1.arcgis.com/ESMARspQHYMw9BZ9/arcgis/rest/services/Middle_layer_Super_Output_Areas_December_2021_Boundaries_EW_BGC_V3/FeatureServer/replicafilescache/Middle_layer_Super_Output_Areas_December_2021_Boundaries_EW_BGC_V3_4916445166053426.geojson" -L -o data/msoas.geojson

# Download the LSOA boundaries as GeoJSON
curl "https://services1.arcgis.com/ESMARspQHYMw9BZ9/arcgis/rest/services/Lower_layer_Super_Output_Areas_December_2021_Boundaries_EW_BGC_V5/FeatureServer/replicafilescache/Lower_layer_Super_Output_Areas_December_2021_Boundaries_EW_BGC_V5_-7764840717091613250.geojson" -L -o data/lsoas.geojson

# Download the ONS Postcode directory
curl "https://ago-item-storage.s3.amazonaws.com/b54177d3d7264cd6ad89e74dd9c1391d/ONSPD_NOV_2024.zip?X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJIMEYCIQC00lZ0qL2Y8ffG5fsl2ebbjJevFb1PrL9BoFZWupa0tAIhAPyIHXG7evvOdNnBnS87Yjp1HcugDHDyicAx5iXaA0a9KrwFCKH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjA0NzU4MTAyNjY1IgyFMEnmGCLVdG33VtQqkAWUDjVUIzATayV8l0NRO9u9%2B2%2Bp33nEyjRRSny4SgkzJYJpqJpp6RHXncADH6%2F9UMLnKI37nMofTOU%2F4uNIjqzSucGsMzefbYA%2Bhczuu3CIEfk7%2FfRLchTbYvOmNV6T31u5z0TRdERCGAJXQ%2BoKjA8yWwpw9q%2FY3xBRco8tfrgkJ%2BAmqPrE1e4F6iGFU5TvlXwOZFUA2xlgFAyVW8wBapmwkBHJ%2Bu6AJ33tcJXAjXbtUwg59z38DlZPebd6cOxeTC0%2FQJeKeyCdHP0of23OXmGVX0XFHF5OnatQshyQUi5Ueth5P%2FxhgAm9zJjAYeJrVNCrhZms5XodJf0r7UMgVwD6Ij%2Fcg1S7x%2FsgWYxIYXuTLTHfhS3ZXCNDBntDbJqRMKV1CEITVPLmdPVvSahy9z8jIi9dv71BgIRXgTZwagH3S2vecgqy7JwpqC4ouAhKM0YTkMBqHQ%2FHEBC%2ByRwP729w7DWd9Zxwid%2BvWDm2vyBYKKmQjnBuSvcPBVw%2Fh3sHGffBRxpfYa%2F0DjE%2BZoVlffa2xBz7GhZcmyvhxTFYHGh6dDO1o3CD9RQEBq1PsYYuB8fud2Jdm24rjR8kVwxYdgKOFkg9ecWXGqRsyKqx0bYXZTi8vIjNbUQKuxcavVX7MYTgDRdw9nbJf7VytVucruE2iDSASZ8yznBXAhwJlGC9Hx9jmqvXci0jIGKh3CsEwjr2Hf0hD9F0yBcmB0LORZmY%2Fs3%2FXO3oZHn69P64A7GUaIO9a9iXuVgH9qPrjvxDNusZfhkeMPPCAfYcfvklEqSuZDCE5pyXdpwl%2Bdux2Ka2Ez4y%2FQBhapR64n1WgF3WIi53Yyjc96DUq4ubp42upCKfS7katDGwGHIfpctnOC49GTC7heW6BjqwARnErC%2Fci0cwcaT6UQwFfTF8LkxP0q%2FjknX5FzGOTsOEOZH0ji3YsB58VlVOUaiu2wIf6rOn42thDkOVAdarLLBvblpWsjeoXog68q5yjmbtOHow4Ysjp9y54BunMynfYriVqVUUatyxMvFBaxus3edBKAV3Q192OApjA3tDIkwV0U3DCY90YaGcNCu2ON%2BhBg%2F0HODvwpiO9%2BD6tvG7QCcANdk1T4bp%2BU7M99tjNI2f&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20241211T083128Z&X-Amz-SignedHeaders=host&X-Amz-Expires=300&X-Amz-Credential=ASIAYZTTEKKEQW7SG4JW%2F20241211%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Signature=45b702b580e79f33a88d3af80dde67c584772397ee77c555065037c29a8b7591" -L -o data/ons-postcode-directory.zip
